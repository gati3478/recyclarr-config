radarr:
  whatbox-radarr:
    base_url: http://localhost:RADARR_PORT
    api_key: RADARR_API_KEY

    # Pull TRaSH quality-definition (global min/max sizes per quality).
    include:
      - template: radarr-quality-definition-movie

      # ============================================================
      # Option 1: HD-Kino — 1080p cap, premium groups & audio (6–16 GB)
      # ============================================================
    quality_profiles:
      - name: HD-Kino
        score_set: sqp-1-1080p       # mixed 1080p base; we push top WEB/BD groups & lossless audio
        reset_unmatched_scores:
          enabled: true
        upgrade:
          allowed: true
          until_quality: Bluray-1080p
          until_score: 10000
        min_format_score: 0
        quality_sort: top
        qualities:
          - name: Bluray-1080p
          - name: WEB 1080p
            qualities: [WEBDL-1080p, WEBRip-1080p]
          - name: Bluray-720p
          - name: WEB 720p
            qualities: [WEBDL-720p, WEBRip-720p]
          - name: HDTV-1080p
          - name: HDTV-720p
          - name: Bluray-480p
          - name: WEB 480p
            qualities: [WEBDL-480p, WEBRip-480p]

      # ============================================================
      # Option 2: UHD-Kino — up to 2160p, premium (20–35 GB, IMAX ok)
      # ============================================================
      - name: UHD-Kino
        score_set: sqp-1-2160p       # mixed 2160p base; prefer UHD BD/Web top tiers & lossless audio
        reset_unmatched_scores:
          enabled: true
        upgrade:
          allowed: true
          until_quality: Bluray-2160p
          until_score: 10000
        min_format_score: 0
        quality_sort: top
        qualities:
          - name: Bluray-2160p
          - name: WEB 2160p
            qualities: [WEBDL-2160p, WEBRip-2160p]
          - name: HDTV-2160p
          - name: Bluray-1080p
          - name: WEB 1080p
            qualities: [WEBDL-1080p, WEBRip-1080p]
          - name: Bluray-720p
          - name: WEB 720p
            qualities: [WEBDL-720p, WEBRip-720p]

    custom_formats:
      # ============================================================
      # AUDIO — Compact nudges efficient; Premium favors lossless
      # ============================================================

      # Block Premium DTS (playback requires conversion)
      - trash_ids:
          - 2f22d89048b01681dde8afe203bf2e95  # DTS X
          - 1c1a4c5e823891c75bc50380a6866f73  # DTS
          - 8e109e50e0a0b83a5098b056e13bf6db  # DTS-HD HRA
          - dcf3ec6938fa32445f590a4da84256cd  # DTS-HD MA
          - f9f847ac70a0af62ea4a08280b859636  # DTS-ES
        assign_scores_to:
          - name: HD-Kino
            score: -10000
          - name: UHD-Kino
            score: -10000

      # Lossless (mostly Premium)
      # Good lossy across the board (bigger boost on Premium)
      - trash_ids:
          - 1af239278386be2919e1bcee0bde047e  # DD+ ATMOS
        assign_scores_to:
          - name: HD-Kino
            score: 1350
          - name: UHD-Kino
            score: 1350

      - trash_ids:
          - 417804f7f2c4308c1f4c5d380d4c4475  # ATMOS (undefined)
          - 185f1dd7264c4562b9022d963ac37424  # DD+
        assign_scores_to:
          - name: HD-Kino
            score: 1250
          - name: UHD-Kino
            score: 1250

      - trash_ids:
          - 496f355514737f7d83bf7aa4d24f8169  # TrueHD ATMOS
        assign_scores_to:
          - name: HD-Kino
            score: 750
          - name: UHD-Kino
            score: 750

      - trash_ids:
          - 3cafb66171b47f226146a0770576870f  # TrueHD
        assign_scores_to:
          - name: HD-Kino
            score: 650
          - name: UHD-Kino
            score: 650

      - trash_ids:
          - c2998bd0d90ed5621d8df281e839436e # DD
        assign_scores_to:
          - name: HD-Kino
            score: 450
          - name: UHD-Kino
            score: 450

      # ============================================================
      # HDR/Dolby Vision (UHD focus)
      # ============================================================
      # Hard block DV without HDR fallback
      - trash_ids:
          - 923b6abef9b17f937fab56cfcf89e1f1  # DV (w/o HDR fallback)
        assign_scores_to:
          - name: UHD-Kino
            score: -10000

      # Boost good HDR stacks
      - trash_ids:
          - b337d6812e06c200ec9a2d3cfa9d20a7  # DV Boost
        assign_scores_to:
          - name: UHD-Kino
            score: 1000

      - trash_ids:
          - caa37d0df9c348912df1fb1d88f9273a  # HDR10+ Boost
        assign_scores_to:
          - name: UHD-Kino
            score: 100

      # ============================================================
      # MOVIE VERSIONS (IMAX etc.)
      # ============================================================
      - trash_ids:
          - 0f12c086e289cf966fa5948eac571f44  # Hybrid
        assign_scores_to:
          - name: HD-Kino
            score: 100
          - name: UHD-Kino
            score: 500

      - trash_ids:
          - eecf3a857724171f968a66cb5719e152  # IMAX
          - 9f6cbff8cfe4ebbc1bde14c7b7bec0de  # IMAX Enhanced
        assign_scores_to:
          - name: HD-Kino
            score: 800
          - name: UHD-Kino
            score: 800

      - trash_ids:
          - 09d9dd29a0fc958f9796e65c2a8864b4  # Open Matte
        assign_scores_to:
          - name: HD-Kino
            score: 350
          - name: UHD-Kino
            score: 350

      - trash_ids:
          - e0c07d59beb37348e975a930d5e50319  # Criterion Collection
          - 957d0f44b592285f26449575e8b1167e  # Special Edition
        assign_scores_to:
          - name: HD-Kino
            score: 150
          - name: UHD-Kino
            score: 150

      - trash_ids:
          - eca37840c13c6ef2dd0262b141a5482f  # 4K Remaster
        assign_scores_to:
          - name: HD-Kino
            score: 25
          - name: UHD-Kino
            score: 125

      - trash_ids:
          - 570bc9ebecd92723d2d21500f4be314c  # Remaster
        assign_scores_to:
          - name: HD-Kino
            score: 100
          - name: UHD-Kino
            score: 50

      - trash_ids:
          - e9001909a4c88013a359d0b9920d7bea  # Theatrical Cut
        assign_scores_to:
          - name: HD-Kino
            score: -50
          - name: UHD-Kino
            score: -50

      # ============================================================
      # UNIVERSAL BLOCKS (applied to ALL profiles)
      # ============================================================
      - trash_ids:
          - 3a3ff47579026e76d6504ebea39390de  # Remux Tier 01
          - 9f98181fe5a3fbeb0cc29340da2a468a  # Remux Tier 02
          - 8baaf0b3142bf4d94c42a724f034e27a  # Remux Tier 03
          - ed38b889b31be83fda192888e2286d83  # BR-DISK
        assign_scores_to:
          - name: HD-Kino
            score: -10000
          - name: UHD-Kino
            score: -10000

      - trash_ids:
          - 90a6f9a284dff5103f6346090e6280c8  # LQ
        assign_scores_to:
          - name: HD-Kino
            score: -2500
          - name: UHD-Kino
            score: -4500

      - trash_ids:
          - e204b80c87be9497a8a6eaff48f72905  # LQ (Release Title)
          - ae9b7c9ebde1f3bd336a8cbd1ec4c5e5  # No-RlsGroup
        assign_scores_to:
          - name: HD-Kino
            score: -1000
          - name: UHD-Kino
            score: -1000

      - trash_ids:
          - 5c44f52a8714fdd79bb4d98e2673be1f  # Retags
        assign_scores_to:
          - name: HD-Kino
            score: -10
          - name: UHD-Kino
            score: -10

      - trash_ids:
          - b6832f586342ef70d9c128d40c07b872  # Bad Dual Groups
          - 7357cf5161efbf8c4d5d0c30b4815ee2  # Obfuscated
          - 0a3f082873eb454bde444150b70253cc  # Extras
        assign_scores_to:
          - name: HD-Kino
            score: -2500
          - name: UHD-Kino
            score: -2500

      # Prefer P2P by lightly penalizing Scene
      - trash_ids:
          - f537cf427b64c38c8e36298f657e4828  # Scene
        assign_scores_to:
          - name: HD-Kino
            score: -50
          - name: UHD-Kino
            score: -50

      # ============================================================
      # CODEC & DEPTH (Compact = efficiency; Premium = neutrality)
      # ============================================================

      - trash_ids:
          - 9170d55c319f4fe40da8711ba9d8050d  # x265
        assign_scores_to:
          - name: UHD-Kino
            score: 100

      # HEVC encodes that strip HDR/DV info
      - trash_ids:
          - 839bea857ed2c0a8e084f3cbdbd65ecb  # x265 (no HDR/DV)
        assign_scores_to:
          - name: HD-Kino
            score: -1000

      # Proper 10-bit color depth everywhere (small nudge)
      - trash_ids:
          - a5d148168c4506b55cf53984107c396e  # 10bit
        assign_scores_to:
          - name: HD-Kino
            score: 10
          - name: UHD-Kino
            score: 10

sonarr:
  whatbox-sonarr:
    base_url: http://localhost:SONARR_PORT
    api_key: SONARR_API_KEY

    # Pull TRaSH quality-definition (global min/max sizes per quality).
    include:
      - template: sonarr-quality-definition-series

    quality_profiles:
      # ============================================================
      # HD Profile — 1080p cap, balanced quality/size
      # ============================================================
      - name: HD
        reset_unmatched_scores:
          enabled: true
        upgrade:
          allowed: true
          until_quality: Bluray-1080p
          until_score: 10000
        min_format_score: 0
        quality_sort: top
        qualities:
          - name: Bluray-1080p
          - name: WEB 1080p
            qualities: [WEBDL-1080p, WEBRip-1080p]
          - name: Bluray-720p
          - name: WEB 720p
            qualities: [WEBDL-720p, WEBRip-720p]
          - name: HDTV-1080p
          - name: HDTV-720p
          - name: Bluray-480p
          - name: WEB 480p
            qualities: [WEBDL-480p, WEBRip-480p]

      # ============================================================
      # UHD Profile — up to 2160p, HDR/DV capable
      # ============================================================
      - name: UHD
        reset_unmatched_scores:
          enabled: true
        upgrade:
          allowed: true
          until_quality: Bluray-2160p
          until_score: 10000
        min_format_score: 0
        quality_sort: top
        qualities:
          - name: Bluray-2160p
          - name: WEB 2160p
            qualities: [WEBDL-2160p, WEBRip-2160p]
          - name: HDTV-2160p
          - name: Bluray-1080p
          - name: WEB 1080p
            qualities: [WEBDL-1080p, WEBRip-1080p]
          - name: Bluray-720p
          - name: WEB 720p
            qualities: [WEBDL-720p, WEBRip-720p]

    custom_formats:
      # ============================================================
      # UNIVERSAL BLOCKS
      # ============================================================
      # ============================================================
      # AUDIO
      # ============================================================
      # Block [Premium] DTS (playback requires conversion)
      - trash_ids:
          - 9d00418ba386a083fbf4d58235fc37ef  # DTS X
          - 5964f2a8b3be407d083498e4459d05d0  # DTS
          - cfa5fbd8f02a86fc55d8d223d06a5e1f  # DTS-HD HRA
          - c429417a57ea8c41d57e6990a8b0033f  # DTS-HD MA
          - c1a25cd67b5d2e08287c957b1eb903ec  # DTS-ES
        assign_scores_to:
          - name: HD
            score: -10000
          - name: UHD
            score: -10000

      # DD+ ATMOS
      - trash_ids:
          - 4232a509ce60c4e208d13825b7c06264  # DD+ ATMOS
        assign_scores_to:
          - name: HD
            score: 1350
          - name: UHD
            score: 1350

      # ATMOS (undefined)
      - trash_ids:
          - b6fbafa7942952a13e17e2b1152b539a  # ATMOS (undefined)
          - 63487786a8b01b7f20dd2bc90dd4a477  # DD+
        assign_scores_to:
          - name: HD
            score: 1250
          - name: UHD
            score: 1250

      # TrueHD ATMOS
      - trash_ids:
          - 0d7824bb924701997f874e7ff7d4844a  # TrueHD ATMOS
        assign_scores_to:
          - name: HD
            score: 750
          - name: UHD
            score: 750

      # TrueHD
      - trash_ids:
          - 1808e4b9cee74e064dfae3f1db99dbfe  # TrueHD
        assign_scores_to:
          - name: HD
            score: 650
          - name: UHD
            score: 650

      # Basic audio
      - trash_ids:
          - dbe00161b08a25ac6154c55f95e6318d  # DD
        assign_scores_to:
          - name: HD
            score: 450
          - name: UHD
            score: 450

      # ============================================================
      # HDR/Dolby Vision (UHD only)
      # ============================================================
      # Block DV without HDR fallback
      - trash_ids:
          - 9b27ab6498ec0f31a3353992e19434ca  # DV (w/o HDR fallback)
        assign_scores_to:
          - name: UHD
            score: -10000

      # DV Boost
      - trash_ids:
          - 7c3a61a9c6cb04f52f1544be6d44a026  # DV Boost
        assign_scores_to:
          - name: UHD
            score: 1000

      # HDR10+ Boost (not native on C1, low priority)
      - trash_ids:
          - 0c4b99df9206d2cfac3c05ab897dd62a  # HDR10+ Boost
        assign_scores_to:
          - name: UHD
            score: 100

      # ============================================================
      # Block Remux and BR-DISK
      - trash_ids:
          - 9965a052eb87b0d10313b1cea89eb451  # Remux Tier 01
          - 8a1d0c3d7497e741736761a1da866a2e  # Remux Tier 02
          - 85c61753df5da1fb2aab6f2a47426b09  # BR-DISK
        assign_scores_to:
          - name: HD
            score: -10000
          - name: UHD
            score: -10000

      - trash_ids:
          - 9c11cd3f07101cdba90a2d81cf0e56b4  # LQ
        assign_scores_to:
          - name: HD
            score: -2500
          - name: UHD
            score: -4500

      - trash_ids:
          - e2315f990da2e2cbfc9fa5b7a6fcfe48  # LQ (Release Title)
          - 82d40da2bc6923f41e14394075dd4b03  # No-RlsGroup
        assign_scores_to:
          - name: HD
            score: -800
          - name: UHD
            score: -1000

      - trash_ids:
          - 06d66ab109d4d2eddb2794d21526d140  # Retags
        assign_scores_to:
          - name: HD
            score: -10
          - name: UHD
            score: -10

      - trash_ids:
          - 32b367365729d530ca1c124a0b180c64  # Bad Dual Groups
          - e1a997ddb54e3ecbfe06341ad323c458  # Obfuscated
          - fbcb31d8dabd2a319072b84fc0b7249c  # Extras
        assign_scores_to:
          - name: HD
            score: -2500
          - name: UHD
            score: -3000

      # Prefer P2P by lightly penalizing Scene
      - trash_ids:
          - 1b3994c551cbb92a2c781af061f4ab44  # Scene
        assign_scores_to:
          - name: HD
            score: -50
          - name: UHD
            score: -50

      # ============================================================
      # CODEC & DEPTH
      # ============================================================
      - trash_ids:
          - 47435ece6b99a0b477caf360e79ba0bb  # x265 (HD)
        assign_scores_to:
          - name: HD
            score: 0

      - trash_ids:
          - c9eafd50846d299b862ca9bb6ea91950  # x265 (UHD)
        assign_scores_to:
          - name: UHD
            score: 100

      - trash_ids:
          - 9b64dff695c2115facf1b6ea59c9bd07  # x265 (no HDR/DV)
        assign_scores_to:
          - name: HD
            score: -1000

      - trash_ids:
          - b2550eb333d27b75833e25b8c2557b38  # 10bit
        assign_scores_to:
          - name: HD
            score: 10
          - name: UHD
            score: 10

      - trash_ids:
          - 3a4127d8aa781b44120d907f2cd62627  # Hybrid
        assign_scores_to:
          - name: HD
            score: 100
          - name: UHD
            score: 500
